# Tracker configuration parameters

# Frame names
world_frame: "world"
camera_frame: "camera_link"

# Ground plane z coordinate
ground_z: 0.0
min_marker_distance: 0.05   # m, reject detections when markers almost overlap
max_marker_distance: 2.0    # m, reject detections when markers too far apart
enable_pose_smoothing: false
pose_smoothing_alpha: 0.2

# Input topics
image_topic: "/camera/image_raw"
camera_info_topic: "/camera/camera_info"

# Output topics
pose_topic: "/robot_pose_external"
path_topic: "/robot_path_external"
debug_image_topic: "/debug/image"

# Trajectory logging
log_trajectory: true
log_format: "csv"          # "csv" or "json"
log_file: "~/tracker_logs/trajectory.csv"

# HSV color thresholds for markers
# Red marker (head)
# Красный в HSV может быть около 0 или около 180 (циклический диапазон)
# Используем более широкие пороги для Gazebo цветов
red_hsv:
  lower: [0, 50, 50]    # Более широкий диапазон для красного
  upper: [10, 255, 255]

# Blue marker (tail)
# Синий обычно в диапазоне 100-130, но может быть менее насыщенным в Gazebo
blue_hsv:
  lower: [100, 50, 50]  # Снижаем пороги насыщенности и яркости
  upper: [130, 255, 255]

# Processing parameters
# Уменьшаем минимальную площадь, так как метки могут быть маленькими на изображении
min_contour_area: 20  # Minimum area for marker detection (pixels)
max_contour_area: 10000  # Maximum area for marker detection (pixels)

# Frame skipping (process every N-th frame, 1 = process every frame)
frame_skip: 1

# Interpolation when markers are lost
enable_interpolation: true
max_lost_frames: 10  # Maximum number of frames to interpolate when markers are lost
